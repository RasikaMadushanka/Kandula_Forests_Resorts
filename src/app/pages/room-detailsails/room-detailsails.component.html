<app-nav-bar></app-nav-bar>

<div class="container py-5">
  <div class="room-page">

    <!-- Left side: Room Details & Images -->
    <div class="room-left">
      <div class="room-details-card">

        <!-- Main Image Slider -->
        <div class="image-slider">
          <img [src]="room.images[currentImageIndex]" [alt]="room.type" class="main-image" />
          <button class="arrow prev" (click)="prevImage()">&#10094;</button>
          <button class="arrow next" (click)="nextImage()">&#10095;</button>
        </div>

        <!-- Thumbnail Strip -->
        <div class="thumbnail-strip">
          <img 
            *ngFor="let img of room.images; let i = index" 
            [src]="img" 
            [alt]="room.type + ' image ' + (i+1)" 
            [class.active]="i === currentImageIndex"
            (click)="selectImage(i)"
          />
        </div>

        <!-- Room Info -->
        <div class="room-info">
          <h2>{{ room.type }}</h2>
          <span class="badge" [class.ac]="room.ac" [class.non-ac]="!room.ac">
            {{ room.ac ? 'AC Room' : 'Non AC Room' }}
          </span>

          <p class="description">{{ room.description }}</p>

          <div class="price-section">
            <span class="old-price">LKR {{ room.price | number }}</span>
            <span class="discount">-{{ room.discount }}%</span>
            <div class="final-price">
              LKR {{ getFinalPrice() | number }}
            </div>
          </div>

          <!-- Room Features -->
          <div class="features">
            <h5>Room Features:</h5>
            <ul>
              <li *ngFor="let feature of room.features">
                <span class="feature-icon">&#10003;</span> {{ feature }}
              </li>
            </ul>
          </div>
        </div>

      </div>
    </div>

    <!-- Right side: Booking Form -->
    <div class="room-right">
      <div class="booking-form">
        <h3>Book this room</h3>
        <form (ngSubmit)="sendWhatsApp()">

          <input type="text" placeholder="Name" [(ngModel)]="booking.name" name="name" required>
          <input type="email" placeholder="Email" [(ngModel)]="booking.email" name="email" required>
          <input type="tel" placeholder="Phone" [(ngModel)]="booking.phone" name="phone" required>
          <input type="number" placeholder="Guests" [(ngModel)]="booking.guests" name="guests" min="1" required>
          <input type="date" placeholder="Check-in" [(ngModel)]="booking.checkin" name="checkin" required>
          <input type="date" placeholder="Check-out" [(ngModel)]="booking.checkout" name="checkout" required>
          <textarea placeholder="Notes" [(ngModel)]="booking.notes" name="notes"></textarea>

          <button type="submit" class="whatsapp-btn">Send Booking via WhatsApp</button>
        </form>
      </div>
    </div>

  </div>
</div>

<app-footer></app-footer>
